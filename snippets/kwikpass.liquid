<script>
    let isElementsWithAccountClickable = true;
    function getCustomerId() {
      {% if customer %}
      return {{ customer.id | json }};
      {% else %}
      return null
      {% endif %}
    }
    function getThemeId() {
      {% if theme %}
      return {{ theme.id | json }};
      {% else %}
      return null
      {% endif %}
    }
    window.merchantInfo  = {      
      ...window.merchantInfo,
            mid: "1umrey8imdplld89",
            environment: "production",
            type: "merchantInfo",
            integrationType: "PLUGIN"
      }
    document.addEventListener('DOMContentLoaded', function() {
      handleDOMUpdate();
    })
    window.addEventListener('update-dom', function() {
      handleDOMUpdate();
    })
  </script>
  <script>
    // Defer Gokwik/Kwikpass until after load to protect LCP
    window.addEventListener('load', function(){
      var s1 = document.createElement('script');
      s1.src = 'https://pdp.gokwik.co/kwikpass/kwikpass-core-functions-min.js';
      s1.async = true;
      document.head.appendChild(s1);

      var s2 = document.createElement('script');
      s2.src = 'https://pdp.gokwik.co/kwikpass/plugin/build/kp-merchant-v2.js';
      s2.async = true;
      document.head.appendChild(s2);

      var s3 = document.createElement('script');
      s3.src = 'https://pdp.gokwik.co/kwikpass/plugin/build/kp-shopify-app-sdk.js';
      s3.async = true;
      document.head.appendChild(s3);
    });
  </script>